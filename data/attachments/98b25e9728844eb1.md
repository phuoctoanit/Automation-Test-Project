# Test info

- Name: @validation Automation-Test-Project >> TC 05: Validate warning message if Last Name empty or contains specific characters
- Location: /home/runner/work/Automation-Test-Project/Automation-Test-Project/tests/form/03 - validations.spec.ts:31:9

# Error details

```
Error: expect(received).toBe(expected) // Object.is equality

Expected: true
Received: false
    at HomePage.expectInputToBeInvalid (/home/runner/work/Automation-Test-Project/Automation-Test-Project/pages/BasePage.ts:56:28)
    at /home/runner/work/Automation-Test-Project/Automation-Test-Project/tests/form/03 - validations.spec.ts:48:13
    at /home/runner/work/Automation-Test-Project/Automation-Test-Project/tests/form/03 - validations.spec.ts:45:9
```

# Page snapshot

```yaml
- img "adplus-dvertising"
- iframe
- banner:
  - link:
    - /url: https://demoqa.com
    - img
- img
- text: Elements
- img
- img
- text: Forms
- img
- list:
  - listitem:
    - img
    - text: Practice Form
- img
- text: Alerts, Frame & Windows
- img
- img
- text: Widgets
- img
- img
- text: Interactions
- img
- img
- text: Book Store Application
- img
- iframe
- heading "Practice Form" [level=1]
- heading "Student Registration Form" [level=5]
- text: Name
- textbox "First Name"
- textbox "Last Name": "!@#$%^&*()"
- text: Email
- textbox "name@example.com"
- text: Gender
- radio "Male"
- text: Male
- radio "Female"
- text: Female
- radio "Other"
- text: Other Mobile(10 Digits)
- textbox "Mobile Number"
- text: Date of Birth
- textbox: 10 Jun 2025
- text: Subjects
- textbox
- text: Hobbies
- checkbox "Sports"
- text: Sports
- checkbox "Reading"
- text: Reading
- checkbox "Music"
- text: Music Picture Select picture
- button "Select picture"
- text: Current Address
- textbox "Current Address"
- text: State and City Select State
- textbox
- text: Select City
- textbox [disabled]
- button "Submit"
- iframe
- img "Build PlayWright tests with AI"
- iframe
- iframe
- contentinfo: Â© 2013-2020 TOOLSQA.COM | ALL RIGHTS RESERVED.
```

# Test source

```ts
   1 | import { expect, Locator, Page } from "@playwright/test";
   2 | import { Color } from "../constants/Color";
   3 |
   4 | export class BasePage {
   5 |
   6 |     protected page: Page;
   7 |
   8 |     constructor(page: Page) {
   9 |         this.page = page;
   10 |     }
   11 |     /**
   12 |      * 
   13 |      * @param groupName name attribute of radio group
   14 |      * @returns 
   15 |      */
   16 |     async getGroupValuesOfRadio(groupName: string): Promise<string[]> {
   17 |         const elements = this.page.locator(`input[name="${groupName}"]`);
   18 |         const count = await elements.count();
   19 |         const values: string[] = [];
   20 |         for (let i = 0; i < count; i++) {
   21 |             const value = await elements.nth(i).getAttribute('value');
   22 |             if (value) {
   23 |                 values.push(value);
   24 |             }
   25 |         }
   26 |         return values;
   27 |     }
   28 |
   29 |     /**
   30 |      * 
   31 |      * @param groupName name attribute of checkbox group
   32 |      * @returns 
   33 |      */
   34 |     async getGroupValuesOfCheckbox(container: string, groupName: string): Promise<string[]> {
   35 |         const containerLocator = this.page.locator(container);
   36 |         const labels = containerLocator.locator(`label.${groupName}`);
   37 |         const count = await labels.count();
   38 |         const values: string[] = [];
   39 |         for (let i = 0; i < count; i++) {
   40 |             values.push(await labels.nth(i).innerText());
   41 |         }
   42 |         return values;
   43 |     }
   44 |
   45 |
   46 |
   47 |     /**
   48 |      * 
   49 |      * @param locator 
   50 |      */
   51 |     async expectInputToBeInvalid(locator: Locator) {
   52 |         const parentHasValidated = await this.page.locator('form').getAttribute('class');
   53 |         expect(parentHasValidated).toContain('was-validated');
   54 |
   55 |         const hasInvalid = await locator.evaluate(el => el.matches(':invalid'));
>  56 |         expect(hasInvalid).toBe(true);
      |                            ^ Error: expect(received).toBe(expected) // Object.is equality
   57 |
   58 |         await expect.poll(async () => {
   59 |             return await locator.evaluate(el => window.getComputedStyle(el).getPropertyValue('border-color'));
   60 |         }, {
   61 |             timeout: 3000,
   62 |             message: 'Border color should be red for required input'
   63 |         }).toContain(Color.Red); // Expect the border color to be red (invalid)
   64 |     }
   65 |
   66 |     /**
   67 |      * 
   68 |      * @param locator 
   69 |      */
   70 |     async expectInputToBeValid(locator: Locator) {
   71 |         const hasInvalid = await locator.evaluate(el => el.matches(':invalid'));
   72 |         expect(hasInvalid).toBe(false);
   73 |
   74 |         const valid = await locator.evaluate(el => el.matches(':valid'));
   75 |         expect(valid).toBe(true);
   76 |
   77 |         await expect.poll(async () => {
   78 |             return await locator.evaluate(el => window.getComputedStyle(el).getPropertyValue('border-color'));
   79 |         }, {
   80 |             timeout: 3000,
   81 |             message: 'Border color should be green for no required input'
   82 |         }).toContain(Color.Green); // Expect the border color to be green (valid)
   83 |     }
   84 |
   85 |     /**
   86 |      * 
   87 |      * @param groupName name attribute of radio group
   88 |      */
   89 |     async expectGroupRadioToBeInValid(groupName: string) {
   90 |         const elements = this.page.locator(`//input[@name='${groupName}']/following-sibling::label`);
   91 |         const count = await elements.count();
   92 |         let countChecked = 0;
   93 |         for (let i = 0; i < count; i++) {
   94 |             await expect.poll(async () => {
   95 |                 return await elements.nth(i).evaluate(el => window.getComputedStyle(el).getPropertyValue('color'));  
   96 |             }, {
   97 |                 timeout: 3000,
   98 |                 message: `Radio button ${i + 1} should be invalid`
   99 |             }).toContain(Color.Red); // Expect the color to be red (invalid
  100 |         }
  101 |     }
  102 |
  103 |     /**
  104 |      * 
  105 |      * @param groupName name attribute of radio group
  106 |      */
  107 |     async expectGroupRadioToBeValid(groupName: string) {
  108 |         const elements = this.page.locator(`//input[@name='${groupName}']/following-sibling::label`);
  109 |         const count = await elements.count();
  110 |         let countChecked = 0;
  111 |         for (let i = 0; i < count; i++) {
  112 |             await expect.poll(async () => {
  113 |                 return await elements.nth(i).evaluate(el => window.getComputedStyle(el).getPropertyValue('color'));  
  114 |             }, {
  115 |                 timeout: 3000,
  116 |                 message: `Radio button ${i + 1} should be valid`
  117 |             }).toContain(Color.Green); // Expect the color to be green (valid)
  118 |         }
  119 |     }
  120 |
  121 |     /**
  122 |      * 
  123 |      * @param groupName name attribute of radio group
  124 |      * @param value 
  125 |      */
  126 |     async selectOptionFromGroupRadio(groupName: string, value: string) {
  127 |         const radio = this.page.locator(`//input[@name='${groupName}'][@value='${value}']/following-sibling::label`);
  128 |         await radio.click();
  129 |         await expect(radio).toBeChecked();
  130 |     }
  131 | }
```

# Local changes

```diff
diff --git a/apis/BaseAPIs.ts b/apis/BaseAPIs.ts
index c40d787..6f1bdca 100644
--- a/apis/BaseAPIs.ts
+++ b/apis/BaseAPIs.ts
@@ -10,7 +10,7 @@ export abstract class BaseAPIs {
      * Base class for API interactions.
      * This class can be extended to implement specific API methods.
      */
-    constructor(request: APIRequestContext, baseUrl: string = 'http://localhost:3000', authToken?: string) {
+    constructor(request: APIRequestContext, baseUrl: string, authToken?: string) {
         this.request = request;
         this.baseUrl = baseUrl;
         this.authToken = authToken;
diff --git a/apis/EmployerApiClient.ts b/apis/EmployerApiClient.ts
index 7096b02..a67f9c2 100644
--- a/apis/EmployerApiClient.ts
+++ b/apis/EmployerApiClient.ts
@@ -1,4 +1,5 @@
 import { APIRequestContext, APIResponse } from "@playwright/test";
+import { APIEndpoint } from "../constants/APIEndpoint";
 import { BaseAPIs } from "./BaseAPIs";
 
 export class EmployerApiClient extends BaseAPIs {
@@ -7,7 +8,7 @@ export class EmployerApiClient extends BaseAPIs {
 
     constructor(request: APIRequestContext, baseUrl: string, token?: string) {
         super(request, baseUrl, token);
-        this.endpoint = '/employers';
+        this.endpoint = APIEndpoint.Employer;
     }
 
     /**
diff --git a/apis/LoginApiClient.ts b/apis/LoginApiClient.ts
index 21233c7..06e9a5f 100644
--- a/apis/LoginApiClient.ts
+++ b/apis/LoginApiClient.ts
@@ -1,4 +1,5 @@
 import { APIRequestContext, APIResponse } from "@playwright/test";
+import { APIEndpoint } from "../constants/APIEndpoint";
 import { BaseAPIs } from "./BaseAPIs";
 
 export class LoginApiClient extends BaseAPIs{
@@ -7,7 +8,7 @@ export class LoginApiClient extends BaseAPIs{
     
     constructor(request: APIRequestContext, baseUrl: string ) {
         super(request, baseUrl);
-        this.endpoint = '/auth';
+        this.endpoint = APIEndpoint.Auth;
     }
 
     async login(username: string, password: string): Promise<APIResponse> {
diff --git a/constants/APIEndpoint.ts b/constants/APIEndpoint.ts
new file mode 100644
index 0000000..c7ffda7
--- /dev/null
+++ b/constants/APIEndpoint.ts
@@ -0,0 +1,4 @@
+export enum APIEndpoint {
+    Employer = '/employers',
+    Auth = '/auth'
+}
\ No newline at end of file
diff --git a/constants/Data.ts b/constants/ExcelData.ts
similarity index 95%
rename from constants/Data.ts
rename to constants/ExcelData.ts
index 9d4f6e1..2f938b7 100644
--- a/constants/Data.ts
+++ b/constants/ExcelData.ts
@@ -1,4 +1,4 @@
-export enum Data {
+export enum ExcelData {
     SheetName = 'Data',
     TestCase_ID_ColumnIndex = 0,
     TestCase_Title_ColumnIndex = 1,
diff --git a/mock-apis/src/app.ts b/mock-apis/src/app.ts
index 91c372f..fc56686 100644
--- a/mock-apis/src/app.ts
+++ b/mock-apis/src/app.ts
@@ -1,4 +1,5 @@
 import express from 'express';
+import { APIEndpoint } from '../../constants/APIEndpoint';
 import employerRouters from './routers/employer.routers';
 import loginRouters from './routers/login.routers';
 
@@ -6,7 +7,7 @@ const app = express();
 app.use(express.json());
 
 // Register routes
-app.use('/employers', employerRouters);
-app.use('/auth', loginRouters);
+app.use(APIEndpoint.Employer, employerRouters);
+app.use(APIEndpoint.Auth, loginRouters);
 
 export default app;
diff --git a/tests/api/employer-api.spec.ts b/tests/api/employer-api.spec.ts
index 274250c..2e074d1 100644
--- a/tests/api/employer-api.spec.ts
+++ b/tests/api/employer-api.spec.ts
@@ -1,8 +1,6 @@
 import test, { expect, request } from "@playwright/test";
 import { EmployerApiClient } from "../../apis/EmployerApiClient";
 import { LoginApiClient } from "../../apis/LoginApiClient";
-import { login } from "../../mock-apis/src/auth/login";
-
 
 test.describe("Employer API Tests", () => {
     let employerApiClient: EmployerApiClient;
@@ -10,7 +8,7 @@ test.describe("Employer API Tests", () => {
     test.beforeEach(async ({ request }) => {
         const loginApiClient = new LoginApiClient(request, 'http://localhost:3001');
         const response = await loginApiClient.login('admin', 'admin');
-        expect(response.status(), { message: 'Authentication failed '}).toBe(200);
+        expect(response.status(), { message: 'Validation authentication'}).toBe(200);
         const data = await response.json();
         employerApiClient = new EmployerApiClient(request, 'http://localhost:3001', data.token);
     });
diff --git a/tests/form/02 - submission.spec.ts b/tests/form/02 - submission.spec.ts
index bc2f0bf..373bb2c 100644
--- a/tests/form/02 - submission.spec.ts	
+++ b/tests/form/02 - submission.spec.ts	
@@ -3,7 +3,7 @@ import {FormData} from '../../form-data/formData';
 import * as fs from 'fs';
 import * as path from 'path';
 import { ExcelUtils } from '../../utils/ExcelUtils';
-import { Data } from '../../constants/Data';
+import { ExcelData } from '../../constants/ExcelData';
 
 test.describe('@submission Automation-Test-Project', async () => {
     
@@ -11,7 +11,7 @@ test.describe('@submission Automation-Test-Project', async () => {
         const homePage = pageManager.getHomePage();
 
         const formData = ExcelUtils.parseRowData(
-            path.resolve(__dirname, '../../resources/data-forms/Data.xlsx'), Data.SheetName, 1);
+            path.resolve(__dirname, '../../resources/data-forms/Data.xlsx'), ExcelData.SheetName, 1);
 
         await test.step('1. Navigate to the automation practice form page', async () => {
             await sharedPage.goto('https://demoqa.com/automation-practice-form'), {timeout: 60000};
@@ -35,7 +35,7 @@ test.describe('@submission Automation-Test-Project', async () => {
         const homePage = pageManager.getHomePage();
         //can use a CSV  or JSON file to store the form data
         const formData = ExcelUtils.parseRowData(
-            path.resolve(__dirname, '../../resources/data-forms/Data.xlsx'), Data.SheetName, 2);
+            path.resolve(__dirname, '../../resources/data-forms/Data.xlsx'), ExcelData.SheetName, 2);
 
         await test.step('1. Navigate to the automation practice form page', async () => {
             await sharedPage.goto('https://demoqa.com/automation-practice-form'), {timeout: 60000};
diff --git a/utils/ExcelUtils.ts b/utils/ExcelUtils.ts
index 95d5f12..04ea29d 100644
--- a/utils/ExcelUtils.ts
+++ b/utils/ExcelUtils.ts
@@ -1,7 +1,7 @@
 import * as XLSX from 'xlsx';
 import * as fs from 'fs';
 import { FormData } from '../form-data/formData';
-import { Data } from '../constants/Data';
+import { ExcelData } from '../constants/ExcelData';
 
 export class ExcelUtils {
 
@@ -141,20 +141,20 @@ export class ExcelUtils {
         }
         // Example implementation: return row values (you can adjust as needed)
         const rowValues = this.getRowValues(filePath, sheet, rowIndex);
-        const dateOfBirth = this.formatExcelDate(rowValues[Data.DateOfBirth_ColumnIndex] as string);
+        const dateOfBirth = this.formatExcelDate(rowValues[ExcelData.DateOfBirth_ColumnIndex] as string);
         return {
-            firstName: rowValues[Data.FirstName_ColumnIndex] as string || '',
-            lastName: rowValues[Data.LastName_ColumnIndex] as string || '',
-            email: rowValues[Data.Email_ColumnIndex] as string || '',
-            gender: rowValues[Data.Gender_ColumnIndex] as string || '',
-            userNumber: rowValues[Data.Mobile_ColumnIndex] as string || '',
+            firstName: rowValues[ExcelData.FirstName_ColumnIndex] as string || '',
+            lastName: rowValues[ExcelData.LastName_ColumnIndex] as string || '',
+            email: rowValues[ExcelData.Email_ColumnIndex] as string || '',
+            gender: rowValues[ExcelData.Gender_ColumnIndex] as string || '',
+            userNumber: rowValues[ExcelData.Mobile_ColumnIndex] as string || '',
             dateOfBirth: dateOfBirth,
-            subjects: (rowValues[Data.Subjects_ColumnIndex] as string)?.split(',').map(s => s.trim()) || [],
-            hobbies: (rowValues[Data.Hobbies_ColumnIndex] as string)?.split(',').map(s => s.trim()) || [],
-            picture: rowValues[Data.Picture_ColumnIndex] as string || '',
-            currentAddress: rowValues[Data.Address_ColumnIndex] as string || '',
-            state: rowValues[Data.State_ColumnIndex] as string || '',
-            city: rowValues[Data.City_ColumnIndex] as string || ''
+            subjects: (rowValues[ExcelData.Subjects_ColumnIndex] as string)?.split(',').map(s => s.trim()) || [],
+            hobbies: (rowValues[ExcelData.Hobbies_ColumnIndex] as string)?.split(',').map(s => s.trim()) || [],
+            picture: rowValues[ExcelData.Picture_ColumnIndex] as string || '',
+            currentAddress: rowValues[ExcelData.Address_ColumnIndex] as string || '',
+            state: rowValues[ExcelData.State_ColumnIndex] as string || '',
+            city: rowValues[ExcelData.City_ColumnIndex] as string || ''
         };
     }
 }
\ No newline at end of file
```